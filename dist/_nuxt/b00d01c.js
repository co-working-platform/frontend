(window.webpackJsonp=window.webpackJsonp||[]).push([[55,27],{482:function(e,t,n){var content=n(500);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(17).default)("7d2bc38a",content,!0,{sourceMap:!1})},484:function(e,t,n){var content=n(505);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(17).default)("f6b04f2a",content,!0,{sourceMap:!1})},485:function(e,t,n){var content=n(507);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(17).default)("28de9692",content,!0,{sourceMap:!1})},499:function(e,t,n){"use strict";n(482)},500:function(e,t,n){var o=n(16)(!1);o.push([e.i,".otp-input{width:40px;height:40px;padding:5px;margin:0 10px;font-size:20px;color:#a9a9a9;border-radius:4px;border:1px solid #bdc3c7;text-align:center}.error{border:1px solid red!important}.otp-input::-webkit-inner-spin-button,.otp-input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.time{color:#000;font-size:17px}.toolbar_buttons{margin-top:14px}",""]),e.exports=o},504:function(e,t,n){"use strict";n(484)},505:function(e,t,n){var o=n(16)(!1);o.push([e.i,".time[data-v-4d5ed4cc]{color:#000;font-size:17px}.toolbar_buttons[data-v-4d5ed4cc]{margin-top:14px}",""]),e.exports=o},506:function(e,t,n){"use strict";n(485)},507:function(e,t,n){var o=n(16)(!1);o.push([e.i,".time[data-v-1b0e15b4]{color:#000;font-size:17px}.toolbar_buttons[data-v-1b0e15b4]{margin-top:14px}",""]),e.exports=o},515:function(e,t,n){"use strict";n.r(t);n(81),n(7),n(24),n(30),n(51),n(42);var o=n(79),r=n.n(o),l=n(496),c=n.n(l),d=n(522),v=n.n(d),m={components:{"download-csv":c.a,"v-otp-input":v.a},data:function(){return{dataFile:"",labels:{name:"Employee Name",normalHours:"Total Number of Hours",sundayHours:"Total Number of Sunday Hours",holidayHours:"Total Numbers of Holiday Hours",nightHours:"Total Number of Night Hours",daysWorked:"Total Number of Working Days"},fields:["name","normalHours","sundayHours","holidayHours","nightHours","daysWorked"],isExported:!1,type:"month",types:["month","week","day","4day"],mode:"column",modes:["stack","column"],weekday:[1,2,3,4,5,6,0],weekdays:[{text:"Mon - Sun",value:[1,2,3,4,5,6,0]},{text:"Sun - Sat",value:[0,1,2,3,4,5,6]},{text:"Mon - Fri",value:[1,2,3,4,5]},{text:"Mon, Wed, Fri",value:[1,3,5]}],focus:"",events:[],employees:[],employee:"",allEvents:[],eventsPerEmployee:[],valid:!1,datePicker:(new Date).toISOString().substr(0,10),start:"",end:"",eventType:"",allEventTypes:[],selectedEvent:{},selectedElement:null,selectedOpen:!1,newDate:null,newStart:null,newEnd:null,dialogDate:null,dialogStart:!1,dialogEnd:!1,dialogDelete:!1,dialogSuccess:!1,dialogNewDate:!1,dialogNewStartTime:!1,dialogNewEndTime:!1,wrongValidations:[],dialogValidations:!1,dialogForceAddEvent:!1,eventTypesExceptHoliday:[],showAddEventType:!1,event:{type:"",color:""},showHoliday:!1,startHolidayDatePicker:(new Date).toISOString().substr(0,10),holiday:"",holidays:[],user:null,dialogCopyDate:!1,rangeCopyDates:[(new Date).toISOString().substr(0,10),(new Date).toISOString().substr(0,10)],dialogStartCopyDate:!1,startCopyDatePicker:(new Date).toISOString().substr(0,10),dialogExportDate:!1,rangeExportDates:[(new Date).toISOString().substr(0,10),(new Date).toISOString().substr(0,10)],showCreateEvent:!1,showCopy:!1,showExportToCSV:!1,allWorkingHours:[],isHoliday:!1,colors:["red","blue","green","yellow","pink","grey","purple","black"],show:!1,formdata:null}},computed:{dateRangeText:function(){return this.rangeCopyDates.join(" ~ ")},exportDateRangeText:function(){return this.rangeExportDates.join(" ~ ")}},mounted:function(){this.setUser(),this.checkIfEmployeeInLocalStorage(),this.getHolidays(),this.getEmployees(),this.getEventTypes()},methods:{setUser:function(){var e=this;r.a.get("http://212.227.210.204:8765/user",{headers:{Authorization:this.$auth.getToken("local")}}).then((function(t){e.user=t.data})).catch((function(e){window.alert("An error occurred. Please try again!");var t=e.response;console.log("Method get user error: "+t),console.log("Method get user stringified errors: "+JSON.stringify(t.data.errors))}))},checkIfEmployeeInLocalStorage:function(){this.employee=localStorage.getItem("name"),null!==this.employee&&(this.show=!0)},isEventAnHoliday:function(e){var t=this;this.isHoliday=!1,this.holidays.forEach((function(n){n.name===e.name&&(t.isHoliday=!0)}))},viewDay:function(e){var t=e.date;this.focus=t,this.type="day"},getEventColor:function(e){return e.color},setToday:function(){this.focus=""},storeEmployee:function(){localStorage.setItem("name",this.employee),window.location.reload()},parseToReadableDate:function(e){return e.start.split("T")[0]},parseToReadableStartTime:function(e){return"From: "+e.split("T")[1]},parseToReadableEndTime:function(e){return"To: "+e.split("T")[1]},showEvent:function(e){var t=this,n=e.nativeEvent,o=e.event,r=function(){t.selectedEvent=o,t.isEventAnHoliday(t.selectedEvent),t.selectedElement=n.target,t.isHoliday||(t.newDate=t.selectedEvent.start.split("T")[0],t.newStart=t.selectedEvent.start.split("T")[1].split(":")[0]+":"+t.selectedEvent.start.split("T")[1].split(":")[1],t.newEnd=t.selectedEvent.end.split("T")[1].split(":")[0]+":"+t.selectedEvent.end.split("T")[1].split(":")[1]),requestAnimationFrame((function(){return requestAnimationFrame((function(){return t.selectedOpen}))}))};this.selectedOpen?(this.selectedOpen=!1,requestAnimationFrame((function(){return requestAnimationFrame((function(){return r()}))}))):r(),n.stopPropagation()},copyEvents:function(){var e=this,t=this.rangeCopyDates[0]+" 00:00:00",n=this.rangeCopyDates[1]+" 23:59:59";this.formdata=new FormData,this.formdata.append("dateFrom",t),this.formdata.append("dateTo",n);var o=0;this.employees.forEach((function(element){element.firstname+" "+element.lastname===e.employee&&(o=element.id)})),this.formdata.append("employeeId",o),this.formdata.append("moveTo",this.startCopyDatePicker+" 23:59:59"),r()({url:"http://212.227.210.204:8765/department/copy_to_next_week",method:"POST",data:this.formdata,headers:{Authorization:this.$auth.getToken("local"),"Content-Type":"multipart/form-data"}}).then((function(e){window.location.reload()})).catch((function(e){window.alert("An error occurred. Please try again!");var t=e.response;console.log("In catch: "+JSON.stringify(t.data.errors))}))},getEvents:function(){var e=this;this.events=[],this.getHolidayEvents(),this.eventsPerEmployee.forEach((function(t){e.events.push({id:t.id,emp_id:t.employee.id,event_type:t.eventType.id,name:t.eventType.name,start:t.startTime,end:t.endTime,color:t.eventType.color,timed:!1})}))},saveEventType:function(){var e=this;this.formdata=new FormData,this.formdata.append("name",this.event.type),this.formdata.append("color",this.event.color),r()({url:"http://212.227.210.204:8765/department/add_event_type",method:"POST",data:this.formdata,headers:{"Content-Type":"multipart/form-data",Authorization:this.$auth.getToken("local")}}).then((function(t){e.dialogSuccess=!0,e.showAddEventType=!1})).catch((function(e){window.alert("An error occurred. Please try again!");var t=e.response;console.log("in catch"+JSON.stringify(t.data.errors))}))},getHolidays:function(){var e=this;r.a.get("http://212.227.210.204:8765/department/public_holidays",{headers:{Authorization:this.$auth.getToken("local")}}).then((function(t){e.holidays=t.data})).catch((function(e){window.alert("An error occurred. Please try again!");var t=e.response;console.log(JSON.stringify(t.data.errors))}))},getHolidayEvents:function(){var e=this,t="";this.allEventTypes.forEach((function(e){"Holiday"===e.name&&(t=e.id)})),this.holidays.forEach((function(n){e.events.push({id:n.id,event_type:t,name:n.name,start:n.date,end:n.date,color:"orange",timed:!1})}))},saveHoliday:function(){var e=this;this.formdata=new FormData,this.formdata.append("date",this.startHolidayDatePicker),this.formdata.append("name",this.holiday),r()({url:"http://212.227.210.204:8765/department/add_public_holiday",method:"POST",data:this.formdata,headers:{"Content-Type":"multipart/form-data",Authorization:this.$auth.getToken("local")}}).then((function(t){e.showHoliday=!1,window.location.reload()})).catch((function(e){window.alert("An error occurred. Please try again!");var t=e.response;console.log("in catch"+JSON.stringify(t.data.errors))}))},getEmployees:function(){var e=this;r.a.get("http://212.227.210.204:8765/admin/employees",{headers:{Authorization:this.$auth.getToken("local")}}).then((function(t){e.employees=t.data,e.oneTimeEventsPerEmployee()})).catch((function(e){window.alert("An error occurred. Please try again!");var t=e.response;console.log(JSON.stringify(t.data.errors))}))},oneTimeEventsPerEmployee:function(){var e=this;if(this.employee){var t=0;this.employees.forEach((function(element){e.employee===element.firstname+" "+element.lastname&&(t=element.id)})),r.a.get("http://212.227.210.204:8765/get_one_time_events/"+t,{headers:{Authorization:this.$auth.getToken("local")}}).then((function(t){e.eventsPerEmployee=t.data,e.getEvents()})).catch((function(e){window.alert("An error occurred. Please try again!");var t=e.response;console.log("in catch: "+JSON.stringify(t.data.errors))}))}},getAllOneTimeEvents:function(){var e=this;r.a.get("http://212.227.210.204:8765/get_one_time_events",{headers:{Authorization:this.$auth.getToken("local")}}).then((function(t){e.allEvents=t.data,e.getEvents()})).catch((function(e){window.alert("An error occurred. Please try again!");var t=e.response;console.log("in catch: "+JSON.stringify(t.data.errors))}))},getEventTypes:function(){var e=this;r.a.get("http://212.227.210.204:8765/department/event_types",{headers:{Authorization:this.$auth.getToken("local")}}).then((function(t){e.allEventTypes=t.data,e.allEventTypes.forEach((function(t){"Holiday"!==t.name&&e.eventTypesExceptHoliday.push(t)}))})).catch((function(e){window.alert("An error occurred. Please try again!");var t=e.response;console.log("in catch: "+JSON.stringify(t.data.errors))}))},continueAddEvent:function(){this.closeValidations(),this.dialogForceAddEvent=!0},handleOnChange:function(e){},handleClearInput:function(){this.$refs.otpInput.clearInput()},handleOnComplete:function(e){var t=this;console.log("The entered pin code: "+e),this.formdata=new FormData,this.formdata.append("password",e),this.formdata.append("city_id",this.user.employee.department.city.id),r()({url:"http://212.227.210.204:8765/department/check_password",method:"POST",data:this.formdata,headers:{"Content-Type":"multipart/form-data",Authorization:this.$auth.getToken("local")}}).then((function(e){t.forceAddEvent()})).catch((function(e){var t=e.response;window.alert("in catch"+JSON.stringify(t.data.errors))}))},forceAddEvent:function(){var e=this,t=0;this.allEventTypes.forEach((function(element){e.eventType===element.name&&(t=element.id)}));var n=0;this.employees.forEach((function(element){element.firstname+" "+element.lastname===e.employee&&(n=element.id)}));var o=this.datePicker+" "+this.start+":00",l=this.datePicker+" "+this.end+":00";this.formdata=new FormData,this.formdata.append("eventTypeId",t),this.formdata.append("employeeId",n),this.formdata.append("startTime",o),this.formdata.append("endTime",l),r()({url:"http://212.227.210.204:8765/department/add_one_time_event_without_validation",method:"POST",data:this.formdata,headers:{"Content-Type":"multipart/form-data",Authorization:this.$auth.getToken("local")}}).then((function(e){window.location.reload()})).catch((function(e){window.alert("An error occurred. Please try again!");var t=e.response.status;console.log("in catch"+JSON.stringify(t))}))},addEvent:function(){var e=this,t=0;this.allEventTypes.forEach((function(element){e.eventType===element.name&&(t=element.id)}));var n=0;this.employees.forEach((function(element){element.firstname+" "+element.lastname===e.employee&&(n=element.id)}));var o=this.datePicker+" "+this.start+":00",l=this.datePicker+" "+this.end+":00";this.formdata=new FormData,this.formdata.append("eventTypeId",t),this.formdata.append("employeeId",n),this.formdata.append("startTime",o),this.formdata.append("endTime",l),r()({url:"http://212.227.210.204:8765/department/add_one_time_event",method:"POST",data:this.formdata,headers:{"Content-Type":"multipart/form-data",Authorization:this.$auth.getToken("local")}}).then((function(e){window.location.reload()})).catch((function(t){400===t.response.status&&(e.update=!0,e.wrongValidations=t.response.data,e.dialogValidations=!0)}))},updateEvent:function(){var e=this,t=this.newDate+" "+this.newStart+":00",n=this.newDate+" "+this.newEnd+":00";this.formdata=new FormData,this.formdata.append("id",this.selectedEvent.id),this.formdata.append("eventTypeId",this.selectedEvent.event_type),this.formdata.append("employeeId",this.selectedEvent.emp_id),this.formdata.append("startTime",t),this.formdata.append("endTime",n),r()({url:"http://212.227.210.204:8765/department/edit_one_time_event",method:"PUT",headers:{Authorization:this.$auth.getToken("local"),"Content-Type":"multipart/form-data"},data:this.formdata}).then((function(t){e.selectedOpen=!1,window.location.reload()})).catch((function(e){console.log("in catch"),window.alert("An error occurred. Please try again!");var t=e.response;console.log(JSON.stringify(t.data.errors))}))},deleteConfirmation:function(){var e=this;this.formdata=new FormData,this.formdata.append("id",this.selectedEvent.id),r()({url:"http://212.227.210.204:8765/department/delete_one_time_event",method:"DELETE",data:this.formdata,headers:{Authorization:this.$auth.getToken("local"),"Content-Type":"multipart/form-data"}}).then((function(t){e.$refs.formDelete.reset(),e.dialogSuccess=!0,e.dialogDelete=!1,window.location.reload()})).catch((function(e){window.alert("An error occurred. Please try again!");var t=e.response;console.log(JSON.stringify(t))}))},getAllWorkingHours:function(){var e=this;this.$refs.dialogExportDate.save(this.rangeExportDates),this.dataFile="Working_Hours_from_"+this.rangeExportDates[0]+"_to_"+this.rangeExportDates[1]+".csv",this.formdata=new FormData;var t=this.rangeExportDates[0]+" 00:00:00",n=this.rangeExportDates[1]+" 23:59:59";this.formdata.append("from",t),this.formdata.append("to",n),r()({url:"http://212.227.210.204:8765/admin/get_hours_worked",method:"POST",data:this.formdata,headers:{"Content-Type":"multipart/form-data",Authorization:this.$auth.getToken("local")}}).then((function(t){e.allWorkingHours=t.data,e.exportToCSV()})).catch((function(e){window.alert("An error occurred. Please try again!");var t=e.response;console.log(JSON.stringify(t.data.errors))}))},exportToCSV:function(e){var t=this;console.log(e),this.isExported=!0,setTimeout((function(){t.isExported=!1}),3e3)},deleteEvent:function(){this.dialogDelete=!0},closeDelete:function(){this.dialogDelete=!1,this.$refs.formDelete.reset()},closeSuccess:function(){this.dialogSuccess=!1,window.location.reload()},closeValidations:function(){this.dialogValidations=!1},closeForceAddEvent:function(){this.dialogForceAddEvent=!1,window.location.reload()}}},f=(n(499),n(78)),h=n(96),y=n.n(h),_=n(446),k=n(231),w=n(611),x=n(455),E=n(454),T=n(468),D=n(613),S=n(475),C=n(460),$=n(155),P=n(196),O=n(131),A=n(202),V=n(467),N=n(57),H=n(63),F=n(451),I=n(86),z=n(641),M=n(64),J=n(208),component=Object(f.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("div",[n("v-row",[n("v-col",{attrs:{cols:"12",md:"2"}},[n("v-autocomplete",{attrs:{items:e.employees.map((function(e){return e.firstname+" "+e.lastname})),rules:[function(e){return!!e||"Employee is required"}],label:e.$t("chooseAnEmployee"),"persistent-hint":"",required:""},on:{change:e.storeEmployee},model:{value:e.employee,callback:function(t){e.employee=t},expression:"employee"}})],1),e._v(" "),n("v-col",{attrs:{cols:"12",md:"1"}},[n("v-menu",{attrs:{"close-on-content-click":!1,"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[e.show?n("v-btn",e._g(e._b({staticClass:"toolbar_buttons",on:{click:function(t){e.showCreateEvent=!0}}},"v-btn",r,!1),o),[n("v-icon",[e._v("\n                mdi-plus\n              ")])],1):e._e()]}}])},[e._v(" "),e.showCreateEvent?n("v-card",{attrs:{color:"rgb(50,50,50)","min-width":"350px",flat:""}},[n("v-toolbar",{attrs:{color:"green",dark:""}},[n("v-btn",{attrs:{icon:""}},[n("v-icon",[e._v("mdi-plus")])],1),e._v(" "),n("v-toolbar-title",[e._v(e._s(e.$t("createNewEvent")))]),e._v(" "),n("v-spacer")],1),e._v(" "),n("v-autocomplete",{attrs:{items:e.eventTypesExceptHoliday.map((function(element){return element.name})),rules:[function(e){return!!e||"Event type is required"}],label:e.$t("eventType"),"persistent-hint":"",required:""},model:{value:e.eventType,callback:function(t){e.eventType=t},expression:"eventType"}}),e._v(" "),n("v-dialog",{ref:"dialogNewDate",attrs:{"return-value":e.datePicker,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.datePicker=t},"update:return-value":function(t){e.datePicker=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:"Date:","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.datePicker,callback:function(t){e.datePicker=t},expression:"datePicker"}},"v-text-field",r,!1),o))]}}],null,!1,4070609226),model:{value:e.dialogNewDate,callback:function(t){e.dialogNewDate=t},expression:"dialogNewDate"}},[e._v(" "),n("v-date-picker",{attrs:{"year-icon":"mdi-calendar-blank","prev-icon":"mdi-skip-previous","next-icon":"mdi-skip-next"},model:{value:e.datePicker,callback:function(t){e.datePicker=t},expression:"datePicker"}},[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.dialogNewDate=!1}}},[e._v("\n                  "+e._s(e.$t("cancel"))+"\n                ")]),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialogNewDate.save(e.datePicker)}}},[e._v("\n                  OK\n                ")])],1)],1),e._v(" "),n("v-dialog",{ref:"dialogNewStartTime",attrs:{"return-value":e.start,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.start=t},"update:return-value":function(t){e.start=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:e.$t("start"),"prepend-icon":"mdi-clock-time-four-outline",readonly:""},model:{value:e.start,callback:function(t){e.start=t},expression:"start"}},"v-text-field",r,!1),o))]}}],null,!1,2232232491),model:{value:e.dialogNewStartTime,callback:function(t){e.dialogNewStartTime=t},expression:"dialogNewStartTime"}},[e._v(" "),n("v-time-picker",{attrs:{max:e.end,format:"24hr","year-icon":"mdi-calendar-blank","prev-icon":"mdi-skip-previous","next-icon":"mdi-skip-next"},model:{value:e.start,callback:function(t){e.start=t},expression:"start"}},[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.dialogNewStartTime=!1}}},[e._v("\n                  Cancel\n                ")]),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialogNewStartTime.save(e.start)}}},[e._v("\n                  OK\n                ")])],1)],1),e._v(" "),n("v-dialog",{ref:"dialogNewEndTime",attrs:{"return-value":e.end,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.end=t},"update:return-value":function(t){e.end=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:e.$t("end"),"prepend-icon":"mdi-clock-time-four-outline",readonly:""},model:{value:e.end,callback:function(t){e.end=t},expression:"end"}},"v-text-field",r,!1),o))]}}],null,!1,3870632523),model:{value:e.dialogNewEndTime,callback:function(t){e.dialogNewEndTime=t},expression:"dialogNewEndTime"}},[e._v(" "),n("v-time-picker",{attrs:{min:e.start,format:"24hr","year-icon":"mdi-calendar-blank","prev-icon":"mdi-skip-previous","next-icon":"mdi-skip-next"},model:{value:e.end,callback:function(t){e.end=t},expression:"end"}},[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.dialogNewEndTime=!1}}},[e._v("\n                  "+e._s(e.$t("cancel"))+"\n                ")]),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialogNewEndTime.save(e.end)}}},[e._v("\n                  OK\n                ")])],1)],1),e._v(" "),n("v-card-actions",[n("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(t){e.showCreateEvent=!1}}},[e._v("\n                "+e._s(e.$t("cancel"))+"\n              ")]),e._v(" "),n("v-btn",{attrs:{text:"",color:"secondary"},on:{click:e.addEvent}},[e._v("\n                "+e._s(e.$t("save"))+"\n              ")])],1),e._v(" "),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogValidations,callback:function(t){e.dialogValidations=t},expression:"dialogValidations"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[n("v-list",e._l(e.wrongValidations,(function(t){return n("v-list-item",{key:t},[e._v("\n                      "+e._s(t)+"\n                    ")])})),1)],1),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeValidations}},[e._v("\n                    "+e._s(e.$t("close"))+"\n                  ")]),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.continueAddEvent}},[e._v("\n                    "+e._s(e.$t("continue"))+"\n                  ")]),e._v(" "),n("v-spacer")],1)],1)],1),e._v(" "),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogForceAddEvent,callback:function(t){e.dialogForceAddEvent=t},expression:"dialogForceAddEvent"}},[n("v-card",[n("div",{staticStyle:{display:"flex","flex-direction":"row"}},[n("v-otp-input",{attrs:{"input-classes":"otp-input","num-inputs":4,separator:"-","should-auto-focus":!0},on:{"on-complete":e.handleOnComplete}}),e._v(" "),n("button",{on:{click:function(t){return e.handleClearInput()}}},[e._v("\n                    "+e._s(e.$t("clearInput"))+"\n                  ")])],1)])],1)],1):e._e()],1)],1),e._v(" "),n("v-col",{attrs:{cols:"12",md:"1"}},[n("v-menu",{attrs:{"close-on-content-click":!1,"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[e.employee?n("v-btn",e._g(e._b({staticClass:"toolbar_buttons",on:{click:function(t){e.showCopy=!0}}},"v-btn",r,!1),o),[n("v-icon",{staticStyle:{"padding-right":"5px"}},[e._v("\n                mdi-content-duplicate\n              ")]),e._v("\n              "+e._s(e.$t("copy"))+"\n            ")],1):e._e()]}}])},[e._v(" "),e.showCopy?n("v-card",{attrs:{color:"rgb(50,50,50)","min-width":"350px",flat:""}},[n("v-toolbar",{attrs:{color:"green",dark:""}},[n("v-btn",{attrs:{icon:""}},[n("v-icon",[e._v("mdi-content-duplicate")])],1),e._v(" "),n("v-toolbar-title",[e._v(e._s(e.$t("copyEvents")))]),e._v(" "),n("v-spacer")],1),e._v(" "),n("v-dialog",{ref:"dialogCopyDate",attrs:{"return-value":e.rangeCopyDates,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.rangeCopyDates=t},"update:return-value":function(t){e.rangeCopyDates=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:e.$t("copyDates"),"prepend-icon":"mdi-calendar",readonly:""},model:{value:e.dateRangeText,callback:function(t){e.dateRangeText=t},expression:"dateRangeText"}},"v-text-field",r,!1),o))]}}],null,!1,2743112915),model:{value:e.dialogCopyDate,callback:function(t){e.dialogCopyDate=t},expression:"dialogCopyDate"}},[e._v(" "),n("v-date-picker",{attrs:{range:"","no-title":""},model:{value:e.rangeCopyDates,callback:function(t){e.rangeCopyDates=t},expression:"rangeCopyDates"}},[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.dialogCopyDate=!1}}},[e._v("\n                  "+e._s(e.$t("cancel"))+"\n                ")]),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialogCopyDate.save(e.rangeCopyDates)}}},[e._v("\n                  OK\n                ")])],1)],1),e._v(" "),n("v-dialog",{ref:"dialogStartCopyDate",attrs:{"return-value":e.startCopyDatePicker,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.startCopyDatePicker=t},"update:return-value":function(t){e.startCopyDatePicker=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:e.$t("moveStartingFrom"),"prepend-icon":"mdi-calendar",readonly:""},model:{value:e.startCopyDatePicker,callback:function(t){e.startCopyDatePicker=t},expression:"startCopyDatePicker"}},"v-text-field",r,!1),o))]}}],null,!1,3977401463),model:{value:e.dialogStartCopyDate,callback:function(t){e.dialogStartCopyDate=t},expression:"dialogStartCopyDate"}},[e._v(" "),n("v-date-picker",{attrs:{"year-icon":"mdi-calendar-blank","prev-icon":"mdi-skip-previous","next-icon":"mdi-skip-next"},model:{value:e.startCopyDatePicker,callback:function(t){e.startCopyDatePicker=t},expression:"startCopyDatePicker"}},[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.dialogStartCopyDate=!1}}},[e._v("\n                  "+e._s(e.$t("cancel"))+"\n                ")]),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialogStartCopyDate.save(e.startCopyDatePicker)}}},[e._v("\n                  OK\n                ")])],1)],1),e._v(" "),n("v-card-actions",[n("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(t){e.showCopy=!1}}},[e._v("\n                "+e._s(e.$t("cancel"))+"\n              ")]),e._v(" "),n("v-btn",{attrs:{text:"",color:"secondary"},on:{click:e.copyEvents}},[e._v("\n                "+e._s(e.$t("save"))+"\n              ")])],1)],1):e._e()],1)],1),e._v(" "),n("v-spacer"),e._v(" "),n("v-col",{attrs:{cols:"12",md:"2"}},[[e.show?n("v-btn",{staticClass:"toolbar_buttons",on:{click:function(t){e.showAddEventType=!0}}},[n("v-icon",{staticStyle:{"padding-right":"5px"}},[e._v("\n              mdi-plus\n            ")]),e._v("\n            "+e._s(e.$t("eventType"))+"\n          ")],1):e._e()],e._v(" "),n("v-dialog",{model:{value:e.showAddEventType,callback:function(t){e.showAddEventType=t},expression:"showAddEventType"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("\n              "+e._s(e.$t("addAnEventType"))+"\n            ")]),e._v(" "),n("v-text-field",{attrs:{label:e.$t("eventType")},model:{value:e.event.type,callback:function(t){e.$set(e.event,"type",t)},expression:"event.type"}}),e._v(" "),n("v-autocomplete",{attrs:{items:e.colors,rules:[function(e){return!!e||"Color is required"}],"persistent-hint":"",required:"",label:e.$t("eventColor")},model:{value:e.event.color,callback:function(t){e.$set(e.event,"color",t)},expression:"event.color"}}),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.showAddEventType=!1}}},[e._v("\n                "+e._s(e.$t("close"))+"\n              ")]),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.saveEventType}},[e._v("\n                "+e._s(e.$t("continue"))+"\n              ")]),e._v(" "),n("v-spacer")],1)],1)],1)],2),e._v(" "),n("v-spacer"),e._v(" "),n("v-col",{attrs:{cols:"12",md:"2"}},[[e.show?n("v-btn",{staticClass:"toolbar_buttons",on:{click:function(t){e.showHoliday=!0}}},[n("v-icon",{staticStyle:{"padding-right":"5px"}},[e._v("\n              mdi-plus\n            ")]),e._v("\n            "+e._s(e.$t("publicHoliday"))+"\n          ")],1):e._e()],e._v(" "),n("v-dialog",{model:{value:e.showHoliday,callback:function(t){e.showHoliday=t},expression:"showHoliday"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("\n              "+e._s(e.$t("addAPublicHoliday"))+"\n            ")]),e._v(" "),n("v-text-field",{attrs:{label:e.$t("holidayName")},model:{value:e.holiday,callback:function(t){e.holiday=t},expression:"holiday"}}),e._v(" "),n("v-dialog",{ref:"dialogStartCopyDate",attrs:{"return-value":e.startHolidayDatePicker,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.startHolidayDatePicker=t},"update:return-value":function(t){e.startHolidayDatePicker=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:e.$t("moveStartingFrom"),"prepend-icon":"mdi-calendar",readonly:""},model:{value:e.startHolidayDatePicker,callback:function(t){e.startHolidayDatePicker=t},expression:"startHolidayDatePicker"}},"v-text-field",r,!1),o))]}}]),model:{value:e.dialogStartCopyDate,callback:function(t){e.dialogStartCopyDate=t},expression:"dialogStartCopyDate"}},[e._v(" "),n("v-date-picker",{attrs:{"year-icon":"mdi-calendar-blank","prev-icon":"mdi-skip-previous","next-icon":"mdi-skip-next"},model:{value:e.startHolidayDatePicker,callback:function(t){e.startHolidayDatePicker=t},expression:"startHolidayDatePicker"}},[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.dialogStartCopyDate=!1}}},[e._v("\n                  "+e._s(e.$t("cancel"))+"\n                ")]),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialogStartCopyDate.save(e.startHolidayDatePicker)}}},[e._v("\n                  OK\n                ")])],1)],1),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.showHoliday=!1}}},[e._v("\n                "+e._s(e.$t("close"))+"\n              ")]),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.saveHoliday}},[e._v("\n                "+e._s(e.$t("continue"))+"\n              ")]),e._v(" "),n("v-spacer")],1)],1)],1)],2),e._v(" "),n("v-spacer"),e._v(" "),n("v-spacer"),e._v(" "),n("v-spacer"),e._v(" "),n("v-spacer"),e._v(" "),n("v-col",{attrs:{cols:"12",md:"1"}},[n("v-menu",{attrs:{"close-on-content-click":!1,"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"toolbar_buttons",attrs:{right:!0,absolute:!0},on:{click:function(t){e.showExportToCSV=!0}}},"v-btn",r,!1),o),[n("v-icon",{staticStyle:{"padding-right":"5px"}},[e._v("\n                mdi-export-variant\n              ")]),e._v("\n              "+e._s(e.$t("export"))+"\n            ")],1)]}}])},[e._v(" "),e.showExportToCSV?n("v-card",{attrs:{color:"rgb(50,50,50)","min-width":"350px",flat:""}},[n("v-toolbar",{attrs:{color:"green",dark:""}},[n("v-btn",{attrs:{icon:""}},[n("v-icon",[e._v("mdi-export-variant")])],1),e._v(" "),n("v-toolbar-title",[e._v(e._s(e.$t("exportPlanningsToCSV")))]),e._v(" "),n("v-spacer")],1),e._v(" "),n("v-dialog",{ref:"dialogExportDate",attrs:{"return-value":e.rangeExportDates,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.rangeExportDates=t},"update:return-value":function(t){e.rangeExportDates=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:e.$t("dateRange"),"prepend-icon":"mdi-calendar",readonly:""},model:{value:e.exportDateRangeText,callback:function(t){e.exportDateRangeText=t},expression:"exportDateRangeText"}},"v-text-field",r,!1),o))]}}],null,!1,1724622110),model:{value:e.dialogExportDate,callback:function(t){e.dialogExportDate=t},expression:"dialogExportDate"}},[e._v(" "),n("v-date-picker",{attrs:{range:"","no-title":""},model:{value:e.rangeExportDates,callback:function(t){e.rangeExportDates=t},expression:"rangeExportDates"}},[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.dialogExportDate=!1}}},[e._v("\n                  "+e._s(e.$t("cancel"))+"\n                ")]),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:e.getAllWorkingHours}},[e._v("\n                  OK\n                ")])],1)],1),e._v(" "),n("v-card-actions",[n("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(t){e.showExportToCSV=!1}}},[e._v("\n                "+e._s(e.$t("cancel"))+"\n              ")]),e._v(" "),n("download-csv",{attrs:{data:e.allWorkingHours,name:e.dataFile,labels:e.labels,fields:e.fields},on:{"export-finished":e.exportToCSV}},[n("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(t){e.showExportToCSV=!1}}},[e._v("\n                  "+e._s(e.$t("exportToCSV"))+"\n                ")])],1)],1)],1):e._e()],1)],1)],1),e._v(" "),n("hr"),e._v(" "),n("v-sheet",{staticClass:"d-flex",attrs:{tile:"",height:"54"}},[n("v-btn",{staticClass:"mr-4",attrs:{outlined:"",color:"grey darken-2"},on:{click:e.setToday}},[e._v("\n        "+e._s(e.$t("today"))+"\n      ")]),e._v(" "),n("v-btn",{staticClass:"ma-2",attrs:{icon:""},on:{click:function(t){return e.$refs.calendar.prev()}}},[n("v-icon",[e._v("mdi-chevron-left")])],1),e._v(" "),n("v-select",{staticClass:"ma-2",attrs:{items:e.types,dense:"",outlined:"","hide-details":"",label:"type"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}}),e._v(" "),n("v-select",{staticClass:"ma-2",attrs:{items:e.weekdays,dense:"",outlined:"","hide-details":"",label:e.$t("weekdays")},model:{value:e.weekday,callback:function(t){e.weekday=t},expression:"weekday"}}),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{staticClass:"ma-2",attrs:{icon:""},on:{click:function(t){return e.$refs.calendar.next()}}},[n("v-icon",[e._v("mdi-chevron-right")])],1)],1),e._v(" "),n("v-sheet",{attrs:{height:"600"}},[n("v-calendar",{ref:"calendar",attrs:{weekdays:e.weekday,type:e.type,events:e.events,"event-overlap-mode":e.mode,"event-overlap-threshold":30,"event-color":e.getEventColor},on:{"click:event":e.showEvent,"click:more":e.viewDay,"click:date":e.viewDay,change:e.getEvents},model:{value:e.focus,callback:function(t){e.focus=t},expression:"focus"}}),e._v(" "),n("v-menu",{attrs:{"close-on-content-click":!1,activator:e.selectedElement,"offset-x":""},model:{value:e.selectedOpen,callback:function(t){e.selectedOpen=t},expression:"selectedOpen"}},[e.selectedOpen?n("v-card",{attrs:{color:"rgb(50,50,50)","min-width":"350px",flat:""}},[n("v-toolbar",{attrs:{color:e.selectedEvent.color,dark:""}},[e.isHoliday?e._e():n("v-btn",{attrs:{icon:""}},[n("v-icon",[e._v("mdi-pencil")])],1),e._v(" "),n("v-toolbar-title",{domProps:{innerHTML:e._s(e.selectedEvent.name)}}),e._v(" "),n("v-btn",{attrs:{icon:""},on:{click:e.deleteEvent}},[n("v-icon",[e._v("mdi-delete")])],1),e._v(" "),n("v-spacer")],1),e._v(" "),e.isHoliday?e._e():n("v-dialog",{ref:"dialogDate",attrs:{"return-value":e.newDate,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.newDate=t},"update:return-value":function(t){e.newDate=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:e.$t("pickANewDate"),"prepend-icon":"mdi-calendar",readonly:""},model:{value:e.newDate,callback:function(t){e.newDate=t},expression:"newDate"}},"v-text-field",r,!1),o))]}}],null,!1,4110872375),model:{value:e.dialogDate,callback:function(t){e.dialogDate=t},expression:"dialogDate"}},[e._v(" "),n("v-date-picker",{attrs:{scrollable:""},model:{value:e.newDate,callback:function(t){e.newDate=t},expression:"newDate"}},[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.dialogDate=!1}}},[e._v("\n                "+e._s(e.$t("cancel"))+"\n              ")]),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialogDate.save(e.newDate)}}},[e._v("\n                OK\n              ")])],1)],1),e._v(" "),e.isHoliday?e._e():n("v-dialog",{ref:"dialogStart",attrs:{"return-value":e.newStart,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.newStart=t},"update:return-value":function(t){e.newStart=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:e.$t("pickNewStart"),"prepend-icon":"mdi-clock-time-four-outline",readonly:""},model:{value:e.newStart,callback:function(t){e.newStart=t},expression:"newStart"}},"v-text-field",r,!1),o))]}}],null,!1,413211514),model:{value:e.dialogStart,callback:function(t){e.dialogStart=t},expression:"dialogStart"}},[e._v(" "),e.dialogStart?n("v-time-picker",{attrs:{format:"24hr",max:e.newEnd,"full-width":""},model:{value:e.newStart,callback:function(t){e.newStart=t},expression:"newStart"}},[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.dialogStart=!1}}},[e._v("\n                "+e._s(e.$t("cancel"))+"\n              ")]),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialogStart.save(e.newStart)}}},[e._v("\n                OK\n              ")])],1):e._e()],1),e._v(" "),e.isHoliday?e._e():n("v-dialog",{ref:"dialogEnd",attrs:{"return-value":e.newEnd,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.newEnd=t},"update:return-value":function(t){e.newEnd=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:e.$t("pickNewEnd"),"prepend-icon":"mdi-clock-time-four-outline",readonly:""},model:{value:e.newEnd,callback:function(t){e.newEnd=t},expression:"newEnd"}},"v-text-field",r,!1),o))]}}],null,!1,907353306),model:{value:e.dialogEnd,callback:function(t){e.dialogEnd=t},expression:"dialogEnd"}},[e._v(" "),e.dialogEnd?n("v-time-picker",{attrs:{format:"24hr",min:e.newStart,"full-width":""},model:{value:e.newEnd,callback:function(t){e.newEnd=t},expression:"newEnd"}},[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.dialogEnd=!1}}},[e._v("\n                "+e._s(e.$t("cancel"))+"\n              ")]),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialogEnd.save(e.newEnd)}}},[e._v("\n                OK\n              ")])],1):e._e()],1),e._v(" "),n("v-card-actions",[n("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(t){e.selectedOpen=!1}}},[e._v("\n              "+e._s(e.$t("cancel"))+"\n            ")]),e._v(" "),e.isHoliday?e._e():n("v-btn",{attrs:{text:"",color:"secondary"},on:{click:e.updateEvent}},[e._v("\n              "+e._s(e.$t("save"))+"\n            ")])],1)],1):e._e()],1)],1)],1),e._v(" "),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[n("v-form",{ref:"formDelete"},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("\n          "+e._s(e.$t("doYouWantToDeleteThisEvent"))+"\n        ")]),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("\n            "+e._s(e.$t("cancel"))+"\n          ")]),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteConfirmation}},[e._v("\n            OK\n          ")]),e._v(" "),n("v-spacer")],1)],1)],1)],1),e._v(" "),n("v-dialog",{staticClass:"success",attrs:{"max-width":"500px"},model:{value:e.dialogSuccess,callback:function(t){e.dialogSuccess=t},expression:"dialogSuccess"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("\n        "+e._s(e.$t("success"))+"!\n      ")]),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeSuccess}},[e._v("\n          "+e._s(e.$t("close"))+"\n        ")]),e._v(" "),n("v-spacer")],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;y()(component,{VAutocomplete:_.a,VBtn:k.a,VCalendar:w.a,VCard:x.a,VCardActions:E.a,VCardTitle:E.c,VCol:T.a,VDatePicker:D.a,VDialog:S.a,VForm:C.a,VIcon:$.a,VList:P.a,VListItem:O.a,VMenu:A.a,VRow:V.a,VSelect:N.a,VSheet:H.a,VSpacer:F.a,VTextField:I.a,VTimePicker:z.a,VToolbar:M.a,VToolbarTitle:J.a})},516:function(e,t,n){"use strict";n.r(t);n(81),n(30),n(51),n(7),n(24);var o=n(79),r=n.n(o),l={data:function(){return{type:"month",types:["month","week","day","4day"],mode:"column",modes:["stack","column"],weekday:[1,2,3,4,5,6,0],weekdays:[{text:"Mon - Sun",value:[1,2,3,4,5,6,0]},{text:"Sun - Sat",value:[0,1,2,3,4,5,6]},{text:"Mon - Fri",value:[1,2,3,4,5]},{text:"Mon, Wed, Fri",value:[1,3,5]}],focus:"",events:[],eventsPerEmployee:[],valid:!1,datePicker:(new Date).toISOString().substr(0,10),start:"",end:"",eventType:"",allEventTypes:[],selectedEvent:{},selectedElement:null,selectedOpen:!1,newDate:null,newStart:null,newEnd:null,dialogDate:null,dialogStart:!1,dialogEnd:!1,dialogDelete:!1,dialogSuccess:!1,dialogNewDate:!1,dialogNewStartTime:!1,dialogNewEndTime:!1,dialogCopyDate:!1,rangeCopyDates:[(new Date).toISOString().substr(0,10),(new Date).toISOString().substr(0,10)],dialogStartCopyDate:!1,startCopyDatePicker:(new Date).toISOString().substr(0,10),eventTypesExceptHoliday:[],showAddEventType:!1,event:{type:"",color:""},showCreateEvent:!1,showCopy:!1,formdata:null}},computed:{dateRangeText:function(){return this.rangeCopyDates.join(" ~ ")}},mounted:function(){this.oneTimeEventsPerEmployee(),this.getEventTypes()},methods:{viewDay:function(e){var t=e.date;this.focus=t,this.type="day"},getEventColor:function(e){return e.color},setToday:function(){this.focus=""},showEvent:function(e){var t=this,n=e.nativeEvent,o=e.event,r=function(){t.selectedEvent=o,t.selectedElement=n.target,t.newDate=t.selectedEvent.start.split("T")[0],t.newStart=t.selectedEvent.start.split("T")[1].split(":")[0]+":"+t.selectedEvent.start.split("T")[1].split(":")[1],t.newEnd=t.selectedEvent.end.split("T")[1].split(":")[0]+":"+t.selectedEvent.end.split("T")[1].split(":")[1],requestAnimationFrame((function(){return requestAnimationFrame((function(){return t.selectedOpen}))}))};this.selectedOpen?(this.selectedOpen=!1,requestAnimationFrame((function(){return requestAnimationFrame((function(){return r()}))}))):r(),n.stopPropagation()},copyEvents:function(){var e=this.rangeCopyDates[0]+" 00:00:00",t=this.rangeCopyDates[1]+" 23:59:59";this.formdata=new FormData,this.formdata.append("dateFrom",e),this.formdata.append("dateTo",t),this.formdata.append("employeeId",this.$auth.user.id),this.formdata.append("moveTo",this.startCopyDatePicker+" 23:59:59"),r()({url:"http://212.227.210.204:8765/department/copy_to_next_week",method:"POST",data:this.formdata,headers:{Authorization:this.$auth.getToken("local"),"Content-Type":"multipart/form-data"}}).then((function(e){window.location.reload()})).catch((function(e){window.alert("An error occurred. Please try again!");var t=e.response;console.log("In catch: "+JSON.stringify(t.data.errors))}))},getEvents:function(){var e=this;this.events=[],this.eventsPerEmployee.forEach((function(t){e.events.push({id:t.id,emp_id:t.employee.id,event_type:t.eventType.id,name:t.eventType.name,start:t.startTime,end:t.endTime,color:t.eventType.color,timed:!1})}))},saveEventType:function(){var e=this;this.formdata=new FormData,this.formdata.append("name",this.event.type),this.formdata.append("color",this.event.color),r()({url:"http://212.227.210.204:8765/department/add_event_type",method:"POST",data:this.formdata,headers:{"Content-Type":"multipart/form-data",Authorization:this.$auth.getToken("local")}}).then((function(t){e.dialogSuccess=!0,e.showAddEventType=!1})).catch((function(e){window.alert("An error occurred. Please try again!");var t=e.response;console.log("in catch"+JSON.stringify(t.data.errors))}))},oneTimeEventsPerEmployee:function(){var e=this;r.a.get("http://212.227.210.204:8765/get_one_time_events/"+this.$auth.user.id,{headers:{Authorization:this.$auth.getToken("local")}}).then((function(t){e.eventsPerEmployee=t.data,e.getEvents()})).catch((function(e){window.alert("An error occurred. Please try again!");var t=e.response;console.log("in catch: "+JSON.stringify(t.data.errors))}))},getEventTypes:function(){var e=this;r.a.get("http://212.227.210.204:8765/department/event_types",{headers:{Authorization:this.$auth.getToken("local")}}).then((function(t){e.allEventTypes=t.data,e.allEventTypes.forEach((function(t){"Holiday"!==t.name&&e.eventTypesExceptHoliday.push(t)}))})).catch((function(e){window.alert("An error occurred. Please try again!");var t=e.response;console.log("in catch: "+JSON.stringify(t.data.errors))}))},addEvent:function(){var e=this,t=0;this.allEventTypes.forEach((function(element){e.eventType===element.name&&(t=element.id)}));var n=this.datePicker+" "+this.start+":00",o=this.datePicker+" "+this.end+":00";this.formdata=new FormData,this.formdata.append("eventTypeId",t),this.formdata.append("employeeId",this.$auth.user.id),this.formdata.append("startTime",n),this.formdata.append("endTime",o),r()({url:"http://212.227.210.204:8765/department/add_one_time_event",method:"POST",data:this.formdata,headers:{Authorization:this.$auth.getToken("local"),"Content-Type":"multipart/form-data"}}).then((function(e){window.alert("in then"),window.location.reload()})).catch((function(e){window.alert("An error occurred. Please try again!");var t=e.response;console.log(JSON.stringify(t))}))},updateEvent:function(){var e=this,t=this.newDate+" "+this.newStart+":00",n=this.newDate+" "+this.newEnd+":00";this.formdata=new FormData,this.formdata.append("id",this.selectedEvent.id),this.formdata.append("eventTypeId",this.selectedEvent.event_type),this.formdata.append("employeeId",this.$auth.user.id),this.formdata.append("startTime",t),this.formdata.append("endTime",n),r()({url:"http://212.227.210.204:8765/department/edit_one_time_event",method:"PUT",headers:{Authorization:this.$auth.getToken("local"),"Content-Type":"multipart/form-data"},data:this.formdata}).then((function(t){e.selectedOpen=!1,window.location.reload()})).catch((function(e){console.log("in catch"),window.alert("An error occurred. Please try again!");var t=e.response;console.log(JSON.stringify(t.data.errors))}))},deleteConfirmation:function(){var e=this;this.formdata=new FormData,this.formdata.append("id",this.selectedEvent.id),r()({url:"http://212.227.210.204:8765/department/delete_one_time_event",method:"DELETE",data:this.formdata,headers:{Authorization:this.$auth.getToken("local"),"Content-Type":"multipart/form-data"}}).then((function(t){e.$refs.formDelete.reset(),e.dialogSuccess=!0,e.dialogDelete=!1,window.location.reload()})).catch((function(e){window.alert("An error occurred. Please try again!");var t=e.response;console.log(JSON.stringify(t))}))},deleteEvent:function(){this.dialogDelete=!0},closeDelete:function(){this.dialogDelete=!1,this.$refs.formDelete.reset()},closeSuccess:function(){this.dialogSuccess=!1,window.location.reload()}}},c=(n(504),n(78)),d=n(96),v=n.n(d),m=n(446),f=n(231),h=n(611),y=n(455),_=n(454),k=n(468),w=n(613),x=n(475),E=n(460),T=n(155),D=n(202),S=n(467),C=n(57),$=n(63),P=n(451),O=n(86),A=n(641),V=n(64),N=n(208),component=Object(c.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("div",[n("v-row",[n("v-col",{attrs:{cols:"12",md:"1"}},[n("v-menu",{attrs:{"close-on-content-click":!1,"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"toolbar_buttons",on:{click:function(t){e.showCreateEvent=!0}}},"v-btn",r,!1),o),[n("v-icon",[e._v("\n                mdi-plus\n              ")])],1)]}}])},[e._v(" "),e.showCreateEvent?n("v-card",{attrs:{color:"rgb(50,50,50)","min-width":"350px",flat:""}},[n("v-toolbar",{attrs:{color:"green",dark:""}},[n("v-btn",{attrs:{icon:""}},[n("v-icon",[e._v("mdi-plus")])],1),e._v(" "),n("v-toolbar-title",[e._v(e._s(e.$t("createNewEvent")))]),e._v(" "),n("v-spacer")],1),e._v(" "),n("v-autocomplete",{attrs:{items:e.eventTypesExceptHoliday.map((function(element){return element.name})),rules:[function(e){return!!e||"Event type is required"}],label:e.$t("eventType"),"persistent-hint":"",required:""},model:{value:e.eventType,callback:function(t){e.eventType=t},expression:"eventType"}}),e._v(" "),n("v-dialog",{ref:"dialogNewDate",attrs:{"return-value":e.datePicker,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.datePicker=t},"update:return-value":function(t){e.datePicker=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:"Date:","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.datePicker,callback:function(t){e.datePicker=t},expression:"datePicker"}},"v-text-field",r,!1),o))]}}],null,!1,4070609226),model:{value:e.dialogNewDate,callback:function(t){e.dialogNewDate=t},expression:"dialogNewDate"}},[e._v(" "),n("v-date-picker",{attrs:{"year-icon":"mdi-calendar-blank","prev-icon":"mdi-skip-previous","next-icon":"mdi-skip-next"},model:{value:e.datePicker,callback:function(t){e.datePicker=t},expression:"datePicker"}},[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.dialogNewDate=!1}}},[e._v("\n                  "+e._s(e.$t("cancel"))+"\n                ")]),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialogNewDate.save(e.datePicker)}}},[e._v("\n                  OK\n                ")])],1)],1),e._v(" "),n("v-dialog",{ref:"dialogNewStartTime",attrs:{"return-value":e.start,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.start=t},"update:return-value":function(t){e.start=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:e.$t("start"),"prepend-icon":"mdi-clock-time-four-outline",readonly:""},model:{value:e.start,callback:function(t){e.start=t},expression:"start"}},"v-text-field",r,!1),o))]}}],null,!1,2232232491),model:{value:e.dialogNewStartTime,callback:function(t){e.dialogNewStartTime=t},expression:"dialogNewStartTime"}},[e._v(" "),n("v-time-picker",{attrs:{max:e.end,format:"24hr","year-icon":"mdi-calendar-blank","prev-icon":"mdi-skip-previous","next-icon":"mdi-skip-next"},model:{value:e.start,callback:function(t){e.start=t},expression:"start"}},[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.dialogNewStartTime=!1}}},[e._v("\n                  "+e._s(e.$t("cancel"))+"\n                ")]),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialogNewStartTime.save(e.start)}}},[e._v("\n                  OK\n                ")])],1)],1),e._v(" "),n("v-dialog",{ref:"dialogNewEndTime",attrs:{"return-value":e.end,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.end=t},"update:return-value":function(t){e.end=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:e.$t("end"),"prepend-icon":"mdi-clock-time-four-outline",readonly:""},model:{value:e.end,callback:function(t){e.end=t},expression:"end"}},"v-text-field",r,!1),o))]}}],null,!1,3870632523),model:{value:e.dialogNewEndTime,callback:function(t){e.dialogNewEndTime=t},expression:"dialogNewEndTime"}},[e._v(" "),n("v-time-picker",{attrs:{min:e.start,format:"24hr","year-icon":"mdi-calendar-blank","prev-icon":"mdi-skip-previous","next-icon":"mdi-skip-next"},model:{value:e.end,callback:function(t){e.end=t},expression:"end"}},[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.dialogNewEndTime=!1}}},[e._v("\n                  "+e._s(e.$t("cancel"))+"\n                ")]),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialogNewEndTime.save(e.end)}}},[e._v("\n                  OK\n                ")])],1)],1),e._v(" "),n("v-card-actions",[n("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(t){e.showCreateEvent=!1}}},[e._v("\n                "+e._s(e.$t("cancel"))+"\n              ")]),e._v(" "),n("v-btn",{attrs:{text:"",color:"secondary"},on:{click:e.addEvent}},[e._v("\n                "+e._s(e.$t("save"))+"\n              ")])],1)],1):e._e()],1)],1),e._v(" "),n("v-col",{attrs:{cols:"12",md:"1"}},[n("v-menu",{attrs:{"close-on-content-click":!1,"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"toolbar_buttons",on:{click:function(t){e.showCopy=!0}}},"v-btn",r,!1),o),[n("v-icon",{staticStyle:{"padding-right":"5px"}},[e._v("\n                mdi-content-duplicate\n              ")]),e._v("\n              "+e._s(e.$t("copy"))+"\n            ")],1)]}}])},[e._v(" "),e.showCopy?n("v-card",{attrs:{color:"rgb(50,50,50)","min-width":"350px",flat:""}},[n("v-toolbar",{attrs:{color:"green",dark:""}},[n("v-btn",{attrs:{icon:""}},[n("v-icon",[e._v("mdi-content-duplicate")])],1),e._v(" "),n("v-toolbar-title",[e._v(e._s(e.$t("copyEvents")))]),e._v(" "),n("v-spacer")],1),e._v(" "),n("v-dialog",{ref:"dialogCopyDate",attrs:{"return-value":e.rangeCopyDates,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.rangeCopyDates=t},"update:return-value":function(t){e.rangeCopyDates=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:e.$t("copyDates"),"prepend-icon":"mdi-calendar",readonly:""},model:{value:e.dateRangeText,callback:function(t){e.dateRangeText=t},expression:"dateRangeText"}},"v-text-field",r,!1),o))]}}],null,!1,2743112915),model:{value:e.dialogCopyDate,callback:function(t){e.dialogCopyDate=t},expression:"dialogCopyDate"}},[e._v(" "),n("v-date-picker",{attrs:{range:"","no-title":""},model:{value:e.rangeCopyDates,callback:function(t){e.rangeCopyDates=t},expression:"rangeCopyDates"}},[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.dialogCopyDate=!1}}},[e._v("\n                  "+e._s(e.$t("cancel"))+"\n                ")]),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialogCopyDate.save(e.rangeCopyDates)}}},[e._v("\n                  OK\n                ")])],1)],1),e._v(" "),n("v-dialog",{ref:"dialogStartCopyDate",attrs:{"return-value":e.startCopyDatePicker,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.startCopyDatePicker=t},"update:return-value":function(t){e.startCopyDatePicker=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:e.$t("moveStartingFrom"),"prepend-icon":"mdi-calendar",readonly:""},model:{value:e.startCopyDatePicker,callback:function(t){e.startCopyDatePicker=t},expression:"startCopyDatePicker"}},"v-text-field",r,!1),o))]}}],null,!1,3977401463),model:{value:e.dialogStartCopyDate,callback:function(t){e.dialogStartCopyDate=t},expression:"dialogStartCopyDate"}},[e._v(" "),n("v-date-picker",{attrs:{"year-icon":"mdi-calendar-blank","prev-icon":"mdi-skip-previous","next-icon":"mdi-skip-next"},model:{value:e.startCopyDatePicker,callback:function(t){e.startCopyDatePicker=t},expression:"startCopyDatePicker"}},[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.dialogStartCopyDate=!1}}},[e._v("\n                  "+e._s(e.$t("cancel"))+"\n                ")]),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialogStartCopyDate.save(e.startCopyDatePicker)}}},[e._v("\n                  OK\n                ")])],1)],1),e._v(" "),n("v-card-actions",[n("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(t){e.showCopy=!1}}},[e._v("\n                "+e._s(e.$t("cancel"))+"\n              ")]),e._v(" "),n("v-btn",{attrs:{text:"",color:"secondary"},on:{click:e.copyEvents}},[e._v("\n                "+e._s(e.$t("save"))+"\n              ")])],1)],1):e._e()],1)],1),e._v(" "),n("v-spacer"),e._v(" "),n("v-col",{attrs:{cols:"12",md:"2"}},[[n("v-btn",{staticClass:"toolbar_buttons",on:{click:function(t){e.showAddEventType=!0}}},[n("v-icon",{staticStyle:{"padding-right":"5px"}},[e._v("\n              mdi-plus\n            ")]),e._v("\n            "+e._s(e.$t("eventType"))+"\n          ")],1)],e._v(" "),n("v-dialog",{model:{value:e.showAddEventType,callback:function(t){e.showAddEventType=t},expression:"showAddEventType"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("\n              "+e._s(e.$t("addAnEventType"))+"\n            ")]),e._v(" "),n("v-text-field",{attrs:{label:e.$t("eventType")},model:{value:e.event.type,callback:function(t){e.$set(e.event,"type",t)},expression:"event.type"}}),e._v(" "),n("v-text-field",{attrs:{label:e.$t("eventColor")},model:{value:e.event.color,callback:function(t){e.$set(e.event,"color",t)},expression:"event.color"}}),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.showAddEventType=!1}}},[e._v("\n                "+e._s(e.$t("close"))+"\n              ")]),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.saveEventType}},[e._v("\n                "+e._s(e.$t("continue"))+"\n              ")]),e._v(" "),n("v-spacer")],1)],1)],1)],2)],1),e._v(" "),n("hr"),e._v(" "),n("v-sheet",{staticClass:"d-flex",attrs:{tile:"",height:"54"}},[n("v-btn",{staticClass:"mr-4",attrs:{outlined:"",color:"grey darken-2"},on:{click:e.setToday}},[e._v("\n        "+e._s(e.$t("today"))+"\n      ")]),e._v(" "),n("v-btn",{staticClass:"ma-2",attrs:{icon:""},on:{click:function(t){return e.$refs.calendar.prev()}}},[n("v-icon",[e._v("mdi-chevron-left")])],1),e._v(" "),n("v-select",{staticClass:"ma-2",attrs:{items:e.types,dense:"",outlined:"","hide-details":"",label:"type"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}}),e._v(" "),n("v-select",{staticClass:"ma-2",attrs:{items:e.weekdays,dense:"",outlined:"","hide-details":"",label:e.$t("weekdays")},model:{value:e.weekday,callback:function(t){e.weekday=t},expression:"weekday"}}),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{staticClass:"ma-2",attrs:{icon:""},on:{click:function(t){return e.$refs.calendar.next()}}},[n("v-icon",[e._v("mdi-chevron-right")])],1)],1),e._v(" "),n("v-sheet",{attrs:{height:"600"}},[n("v-calendar",{ref:"calendar",attrs:{weekdays:e.weekday,type:e.type,events:e.events,"event-overlap-mode":e.mode,"event-overlap-threshold":30,"event-color":e.getEventColor},on:{"click:event":e.showEvent,"click:more":e.viewDay,"click:date":e.viewDay,change:e.getEvents},model:{value:e.focus,callback:function(t){e.focus=t},expression:"focus"}}),e._v(" "),n("v-menu",{attrs:{"close-on-content-click":!1,activator:e.selectedElement,"offset-x":""},model:{value:e.selectedOpen,callback:function(t){e.selectedOpen=t},expression:"selectedOpen"}},[e.selectedOpen?n("v-card",{attrs:{color:"rgb(50,50,50)","min-width":"350px",flat:""}},[n("v-toolbar",{attrs:{color:e.selectedEvent.color,dark:""}},[n("v-btn",{attrs:{icon:""}},[n("v-icon",[e._v("mdi-pencil")])],1),e._v(" "),n("v-toolbar-title",{domProps:{innerHTML:e._s(e.selectedEvent.name)}}),e._v(" "),n("v-btn",{attrs:{icon:""},on:{click:e.deleteEvent}},[n("v-icon",[e._v("mdi-delete")])],1),e._v(" "),n("v-spacer")],1),e._v(" "),n("v-dialog",{ref:"dialogDate",attrs:{"return-value":e.newDate,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.newDate=t},"update:return-value":function(t){e.newDate=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:e.$t("pickANewDate"),"prepend-icon":"mdi-calendar",readonly:""},model:{value:e.newDate,callback:function(t){e.newDate=t},expression:"newDate"}},"v-text-field",r,!1),o))]}}],null,!1,4110872375),model:{value:e.dialogDate,callback:function(t){e.dialogDate=t},expression:"dialogDate"}},[e._v(" "),n("v-date-picker",{attrs:{scrollable:""},model:{value:e.newDate,callback:function(t){e.newDate=t},expression:"newDate"}},[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.dialogDate=!1}}},[e._v("\n                "+e._s(e.$t("cancel"))+"\n              ")]),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialogDate.save(e.newDate)}}},[e._v("\n                OK\n              ")])],1)],1),e._v(" "),n("v-dialog",{ref:"dialogStart",attrs:{"return-value":e.newStart,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.newStart=t},"update:return-value":function(t){e.newStart=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:e.$t("pickNewStart"),"prepend-icon":"mdi-clock-time-four-outline",readonly:""},model:{value:e.newStart,callback:function(t){e.newStart=t},expression:"newStart"}},"v-text-field",r,!1),o))]}}],null,!1,413211514),model:{value:e.dialogStart,callback:function(t){e.dialogStart=t},expression:"dialogStart"}},[e._v(" "),e.dialogStart?n("v-time-picker",{attrs:{format:"24hr",max:e.newEnd,"full-width":""},model:{value:e.newStart,callback:function(t){e.newStart=t},expression:"newStart"}},[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.dialogStart=!1}}},[e._v("\n                "+e._s(e.$t("cancel"))+"\n              ")]),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialogStart.save(e.newStart)}}},[e._v("\n                OK\n              ")])],1):e._e()],1),e._v(" "),n("v-dialog",{ref:"dialogEnd",attrs:{"return-value":e.newEnd,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.newEnd=t},"update:return-value":function(t){e.newEnd=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:e.$t("pickNewEnd"),"prepend-icon":"mdi-clock-time-four-outline",readonly:""},model:{value:e.newEnd,callback:function(t){e.newEnd=t},expression:"newEnd"}},"v-text-field",r,!1),o))]}}],null,!1,907353306),model:{value:e.dialogEnd,callback:function(t){e.dialogEnd=t},expression:"dialogEnd"}},[e._v(" "),e.dialogEnd?n("v-time-picker",{attrs:{format:"24hr",min:e.newStart,"full-width":""},model:{value:e.newEnd,callback:function(t){e.newEnd=t},expression:"newEnd"}},[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.dialogEnd=!1}}},[e._v("\n                "+e._s(e.$t("cancel"))+"\n              ")]),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialogEnd.save(e.newEnd)}}},[e._v("\n                OK\n              ")])],1):e._e()],1),e._v(" "),n("v-card-actions",[n("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(t){e.selectedOpen=!1}}},[e._v("\n              "+e._s(e.$t("cancel"))+"\n            ")]),e._v(" "),n("v-btn",{attrs:{text:"",color:"secondary"},on:{click:e.updateEvent}},[e._v("\n              "+e._s(e.$t("save"))+"\n            ")])],1)],1):e._e()],1)],1)],1),e._v(" "),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[n("v-form",{ref:"formDelete"},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("\n          "+e._s(e.$t("doYouWantToDeleteThisEvent"))+"\n        ")]),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("\n            "+e._s(e.$t("cancel"))+"\n          ")]),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteConfirmation}},[e._v("\n            OK\n          ")]),e._v(" "),n("v-spacer")],1)],1)],1)],1),e._v(" "),n("v-dialog",{staticClass:"success",attrs:{"max-width":"500px"},model:{value:e.dialogSuccess,callback:function(t){e.dialogSuccess=t},expression:"dialogSuccess"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("\n        "+e._s(e.$t("success"))+"!\n      ")]),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeSuccess}},[e._v("\n          "+e._s(e.$t("close"))+"\n        ")]),e._v(" "),n("v-spacer")],1)],1)],1)],1)}),[],!1,null,"4d5ed4cc",null);t.default=component.exports;v()(component,{VAutocomplete:m.a,VBtn:f.a,VCalendar:h.a,VCard:y.a,VCardActions:_.a,VCardTitle:_.c,VCol:k.a,VDatePicker:w.a,VDialog:x.a,VForm:E.a,VIcon:T.a,VMenu:D.a,VRow:S.a,VSelect:C.a,VSheet:$.a,VSpacer:P.a,VTextField:O.a,VTimePicker:A.a,VToolbar:V.a,VToolbarTitle:N.a})},517:function(e,t,n){"use strict";n.r(t);n(30),n(51),n(7),n(24);var o=n(79),r=n.n(o),l={data:function(){return{type:"month",types:["month","week","day","4day"],mode:"column",modes:["stack","column"],weekday:[1,2,3,4,5,6,0],weekdays:[{text:"Mon - Sun",value:[1,2,3,4,5,6,0]},{text:"Sun - Sat",value:[0,1,2,3,4,5,6]},{text:"Mon - Fri",value:[1,2,3,4,5]},{text:"Mon, Wed, Fri",value:[1,3,5]}],focus:"",eventsForUser:[],events:[],valid:!1,selectedEvent:{},selectedElement:null,selectedOpen:!1,eventDate:"",eventStartTime:"",eventEndTime:"",show:!1,formdata:null}},mounted:function(){this.getOneTimeEventsForUser()},methods:{viewDay:function(e){var t=e.date;this.focus=t,this.type="day"},getEventColor:function(e){return e.color},setToday:function(){this.focus=""},showEvent:function(e){var t=this,n=e.nativeEvent,o=e.event,r=function(){t.selectedEvent=o,t.selectedElement=n.target,t.eventDate=t.selectedEvent.start.split("T")[0],t.eventStartTime=t.selectedEvent.start.split("T")[1].split(":")[0]+":"+t.selectedEvent.start.split("T")[1].split(":")[1],t.eventEndTime=t.selectedEvent.end.split("T")[1].split(":")[0]+":"+t.selectedEvent.end.split("T")[1].split(":")[1],requestAnimationFrame((function(){return requestAnimationFrame((function(){return t.selectedOpen}))}))};this.selectedOpen?(this.selectedOpen=!1,requestAnimationFrame((function(){return requestAnimationFrame((function(){return r()}))}))):r(),n.stopPropagation()},getEvents:function(){var e=this;this.events=[],this.eventsForUser.forEach((function(t){e.events.push({id:t.id,emp_id:t.employee.id,event_type:t.eventType.id,name:t.eventType.name,start:t.startTime,end:t.endTime,color:t.eventType.color,timed:!1})}))},getOneTimeEventsForUser:function(){var e=this,t=this.$auth.user.id;r.a.get("http://212.227.210.204:8765/get_one_time_events/"+t,{headers:{Authorization:this.$auth.getToken("local")}}).then((function(t){e.eventsForUser=t.data,e.getEvents()})).catch((function(e){window.alert("An error occurred. Please try again!");var t=e.response;console.log("in catch: "+JSON.stringify(t.data.errors))}))}}},c=(n(506),n(78)),d=n(96),v=n.n(d),m=n(231),f=n(611),h=n(455),y=n(454),_=n(155),k=n(202),w=n(57),x=n(63),E=n(451),T=n(86),D=n(64),S=n(208),component=Object(c.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-sheet",{staticClass:"d-flex",attrs:{tile:"",height:"54"}},[n("v-btn",{staticClass:"mr-4",attrs:{outlined:"",color:"grey darken-2"},on:{click:e.setToday}},[e._v("\n      "+e._s(e.$t("today"))+"\n    ")]),e._v(" "),n("v-btn",{staticClass:"ma-2",attrs:{icon:""},on:{click:function(t){return e.$refs.calendar.prev()}}},[n("v-icon",[e._v("mdi-chevron-left")])],1),e._v(" "),n("v-select",{staticClass:"ma-2",attrs:{items:e.types,dense:"",outlined:"","hide-details":"",label:"type"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}}),e._v(" "),n("v-select",{staticClass:"ma-2",attrs:{items:e.weekdays,dense:"",outlined:"","hide-details":"",label:e.$t("weekdays")},model:{value:e.weekday,callback:function(t){e.weekday=t},expression:"weekday"}}),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{staticClass:"ma-2",attrs:{icon:""},on:{click:function(t){return e.$refs.calendar.next()}}},[n("v-icon",[e._v("mdi-chevron-right")])],1)],1),e._v(" "),n("v-sheet",{attrs:{height:"600"}},[n("v-calendar",{ref:"calendar",attrs:{weekdays:e.weekday,type:e.type,events:e.events,"event-overlap-mode":e.mode,"event-overlap-threshold":30,"event-color":e.getEventColor},on:{"click:event":e.showEvent,"click:more":e.viewDay,"click:date":e.viewDay,change:e.getEvents},model:{value:e.focus,callback:function(t){e.focus=t},expression:"focus"}}),e._v(" "),n("v-menu",{attrs:{"close-on-content-click":!1,activator:e.selectedElement,"offset-x":""},model:{value:e.selectedOpen,callback:function(t){e.selectedOpen=t},expression:"selectedOpen"}},[e.selectedOpen?n("v-card",{attrs:{color:"rgb(50,50,50)","min-width":"350px",flat:""}},[n("v-toolbar",{attrs:{color:e.selectedEvent.color,dark:""}},[n("v-toolbar-title",{domProps:{innerHTML:e._s(e.selectedEvent.name)}})],1),e._v(" "),n("v-text-field",{attrs:{label:"Date:","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.eventDate,callback:function(t){e.eventDate=t},expression:"eventDate"}}),e._v(" "),n("v-text-field",{attrs:{label:e.$t("startTime"),"prepend-icon":"mdi-time",readonly:""},model:{value:e.eventStartTime,callback:function(t){e.eventStartTime=t},expression:"eventStartTime"}}),e._v(" "),n("v-text-field",{attrs:{label:e.$t("endTime"),"prepend-icon":"mdi-time",readonly:""},model:{value:e.eventEndTime,callback:function(t){e.eventEndTime=t},expression:"eventEndTime"}}),e._v(" "),n("v-card-actions",[n("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(t){e.selectedOpen=!1}}},[e._v("\n            "+e._s(e.$t("close"))+"\n          ")])],1)],1):e._e()],1)],1)],1)}),[],!1,null,"1b0e15b4",null);t.default=component.exports;v()(component,{VBtn:m.a,VCalendar:f.a,VCard:h.a,VCardActions:y.a,VIcon:_.a,VMenu:k.a,VSelect:w.a,VSheet:x.a,VSpacer:E.a,VTextField:T.a,VToolbar:D.a,VToolbarTitle:S.a})},624:function(e,t,n){"use strict";n.r(t);n(24);var o=n(515),r=n(516),l=n(517),c=n(79),d=n.n(c),v={components:{PlanningCalendar:o.default,PlanningCalendarDepartment:r.default,PlanningCalendarReadOnly:l.default},data:function(){return{admin:!1,department:!1,employee:!1}},mounted:function(){!1===this.$auth.loggedIn&&(window.location="/login"),this.getUser()},methods:{getUser:function(){var e=this;d.a.get("http://212.227.210.204:8765/user",{headers:{Authorization:this.$auth.getToken("local")}}).then((function(t){"CEO"!==t.data.role.name&&"ADMIN"!==t.data.role.name||(e.admin=!0),"DEPARTMENT"===t.data.role.name&&(e.department=!0),"EMPLOYEE"===t.data.role.name&&(e.employee=!0)})).catch((function(e){window.alert("An error occurred. Please try again!");var t=e.response;console.log("Method get user error: "+t),console.log("Method get user stringified errors: "+JSON.stringify(t.data.errors))}))}}},m=n(78),f=n(96),h=n.n(f),y=n(453),component=Object(m.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[e.admin?n("PlanningCalendar"):e._e(),e._v(" "),e.department?n("PlanningCalendarDepartment"):e._e(),e._v(" "),e.employee?n("PlanningCalendarReadOnly"):e._e()],1)}),[],!1,null,null,null);t.default=component.exports;h()(component,{PlanningCalendar:n(515).default,PlanningCalendarDepartment:n(516).default,PlanningCalendarReadOnly:n(517).default}),h()(component,{VContainer:y.a})}}]);