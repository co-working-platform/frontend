(window.webpackJsonp=window.webpackJsonp||[]).push([[40,19],{481:function(t,e,o){var content=o(495);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(17).default)("5a3b9ee7",content,!0,{sourceMap:!1})},494:function(t,e,o){"use strict";o(481)},495:function(t,e,o){var n=o(16)(!1);n.push([t.i,".myClass[data-v-e7740366]{background:#1e1e1e;color:snow}.classInput[data-v-e7740366]{color:snow;border-color:#fafafa}.classInput[data-v-e7740366],.list[data-v-e7740366]{border-style:solid}.list[data-v-e7740366]{border-color:#a9a9a9}",""]),t.exports=n},531:function(t,e,o){"use strict";o.r(e);o(7),o(24);var n=o(79),c=o.n(n),l={data:function(){return{code:"",selectDeleteCity:"",cities:[],formData:null,cityName:"",dialogAddCity:!1,dialogDeleteCity:!1,cityList:[],dialogSuccess:!1,dialogUpdateCity:!1,dialogEditCity:!1,toBeDeleted:"",editedCity:"",dialogAddCode:!1,selectCity:"",dialogUpdateCode:!1,newCode:"",oldCode:""}},watch:{dialogDeleteCity:function(t){t||this.closeDeleteCity()},dialogAddCity:function(t){t||this.closeAddCity()},dialogSuccess:function(t){t||this.closeSuccess()},dialogAddCode:function(t){t||this.closeAddCode()},dialogUpdateCode:function(t){t||this.closeUpdateCode()}},methods:{createPin:function(){this.dialogAddCode=!0,this.getCities()},closeAddCode:function(){this.dialogAddCode=!1,this.selectCity="",this.code=""},addCodeConfirmation:function(){var t=this,e=0;this.cities.forEach((function(o){o.name===t.selectCity&&(e=o.id)})),this.formData=new FormData,this.formData.append("password",this.code),this.formData.append("city_id",e),c()({url:"http://212.227.210.204:8765/ceo/add_password",method:"POST",data:this.formData,headers:{Authorization:this.$auth.getToken("local"),"Content-Type":"multipart/form-data"}}).then((function(e){t.dialogSuccess=!0,t.closeAddCode()})).catch((function(t){window.alert("An error occurred. Please try again!");var e=t.response;console.log(JSON.stringify(e.data.errors))}))},updatePin:function(){this.dialogUpdateCode=!0,this.getCities()},closeUpdateCode:function(){this.dialogUpdateCode=!1,this.selectCity="",this.newCode="",this.oldCode=""},updateCodeConfirmation:function(){var t=this,e=0;this.cities.forEach((function(o){o.name===t.selectCity&&(e=o.id)})),this.formData=new FormData,this.formData.append("old",this.oldCode),this.formData.append("new",this.newCode),this.formData.append("city_id",e),c()({url:"http://212.227.210.204:8765/ceo/change_password",method:"PUT",data:this.formData,headers:{Authorization:this.$auth.getToken("local"),"Content-Type":"multipart/form-data"}}).then((function(e){t.dialogSuccess=!0,t.closeUpdateCode()})).catch((function(t){window.alert("An error occurred. Please try again!");var e=t.response;console.log(JSON.stringify(e.data.errors))}))},closeSuccess:function(){this.dialogSuccess=!1},deleteCity:function(){this.getCities(),this.dialogDeleteCity=!0},closeDeleteCity:function(){this.dialogDeleteCity=!1,this.selectDeleteCity=""},deleteCityConfirmation:function(){var t=this,e=0;this.cities.forEach((function(o){o.name===t.selectDeleteCity&&(e=o.id)})),c()({url:"http://212.227.210.204:8765/ceo/delete_city/"+e,method:"DELETE",headers:{Authorization:this.$auth.getToken("local")}}).then((function(e){t.dialogSuccess=!0,t.closeDeleteCity()})).catch((function(t){window.alert("An error occurred. Please try again!");var e=t.response;console.log(JSON.stringify(e.data.errors))}))},addCity:function(){this.dialogAddCity=!0},closeAddCity:function(){this.dialogAddCity=!1,this.cityName=""},addCityConfirmation:function(){var t=this;this.formData=new FormData,this.formData.append("name",this.cityName),c()({url:"http://212.227.210.204:8765/ceo/create_city",method:"POST",data:this.formData,headers:{Authorization:this.$auth.getToken("local"),"Content-Type":"multipart/form-data"}}).then((function(e){t.dialogSuccess=!0,t.closeAddCity()}))},getCities:function(){var t=this;c.a.get("http://212.227.210.204:8765/cities",{headers:{Authorization:this.$auth.getToken("local")}}).then((function(e){t.cities=e.data})).catch((function(t){window.alert("An error occurred. Please try again!");var e=t.response;console.log(JSON.stringify(e.data.errors))}))},updateCity:function(){this.getCities(),this.dialogUpdateCity=!0},editCity:function(t){this.toBeDeleted=t,this.dialogEditCity=!0,this.editedCity=this.toBeDeleted.name},closeUpdateCity:function(){this.dialogUpdateCity=!1},closeEditCity:function(){this.dialogEditCity=!1,this.editCity="",this.closeUpdateCity()},editCityConfirmation:function(){var t=this,e={id:this.toBeDeleted.id,name:this.editedCity};c()({url:"http://212.227.210.204:8765/ceo/update_city",method:"PUT",data:e,headers:{Authorization:this.$auth.getToken("local"),"Content-Type":"application/json"}}).then((function(e){t.dialogSuccess=!0,t.closeEditCity()})).catch((function(t){window.alert("An error occurred. Please try again!");var e=t.response;console.log(JSON.stringify(e.data.errors))}))}}},d=(o(494),o(78)),r=o(96),v=o.n(r),C=o(231),h=o(455),m=o(454),f=o(468),y=o(453),_=o(475),x=o(460),w=o(155),k=o(196),A=o(131),D=o(194),$=o(70),U=o(467),S=o(57),N=o(451),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{staticClass:"mx-auto"},[o("v-row",[o("v-dialog",{staticClass:"success",attrs:{"max-width":"500px"},model:{value:t.dialogSuccess,callback:function(e){t.dialogSuccess=e},expression:"dialogSuccess"}},[o("v-card",[o("v-card-title",{staticClass:"headline"},[t._v("\n          "+t._s(t.$t("success"))+"!\n        ")]),t._v(" "),o("v-card-actions",[o("v-spacer"),t._v(" "),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeSuccess}},[t._v("\n            "+t._s(t.$t("close"))+"\n          ")]),t._v(" "),o("v-spacer")],1)],1)],1),t._v(" "),o("v-btn",{staticClass:"myClass",attrs:{text:""},on:{click:t.addCity}},[t._v("\n      "+t._s(t.$t("addCity"))+"\n    ")]),t._v(" "),o("v-spacer"),t._v(" "),o("v-btn",{staticClass:"myClass",attrs:{text:""},on:{click:t.deleteCity}},[t._v("\n      "+t._s(t.$t("deleteCity"))+"\n    ")]),t._v(" "),o("v-spacer"),t._v(" "),o("v-btn",{staticClass:"myClass",attrs:{text:""},on:{click:t.updateCity}},[t._v("\n      "+t._s(t.$t("updateCity"))+"\n    ")]),t._v(" "),o("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogUpdateCity,callback:function(e){t.dialogUpdateCity=e},expression:"dialogUpdateCity"}},[o("v-form",{ref:"formUpdateCity"},[o("v-card",[o("v-card-text",[o("v-list",t._l(t.cities,(function(e){return o("v-list-item",{key:e.id,staticClass:"list"},[o("v-list-item-content",[o("v-list-item-title",{domProps:{textContent:t._s(e.name)}})],1),t._v(" "),o("v-list-item-action",[o("v-icon",{staticClass:"grey lighten-1",attrs:{dark:""},on:{click:function(o){return t.editCity(e)}}},[t._v("\n                    mdi-pencil\n                  ")])],1)],1)})),1)],1),t._v(" "),o("v-card-actions",[o("v-spacer"),t._v(" "),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeUpdateCity}},[t._v("\n              "+t._s(t.$t("cancel"))+"\n            ")]),t._v(" "),o("v-spacer")],1)],1)],1)],1),t._v(" "),o("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogEditCity,callback:function(e){t.dialogEditCity=e},expression:"dialogEditCity"}},[o("v-form",{ref:"formEditCity"},[o("v-card",[o("v-card-text",[o("v-container",[o("v-row",[o("v-col",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.editedCity,expression:"editedCity"}],staticClass:"classInput",attrs:{type:"text",placeholder:t.$t("cityName")},domProps:{value:t.editedCity},on:{input:function(e){e.target.composing||(t.editedCity=e.target.value)}}})])],1)],1)],1),t._v(" "),o("v-card-actions",[o("v-spacer"),t._v(" "),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeEditCity}},[t._v("\n              "+t._s(t.$t("cancel"))+"\n            ")]),t._v(" "),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.editCityConfirmation}},[t._v("\n              OK\n            ")]),t._v(" "),o("v-spacer")],1)],1)],1)],1),t._v(" "),o("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDeleteCity,callback:function(e){t.dialogDeleteCity=e},expression:"dialogDeleteCity"}},[o("v-form",{ref:"formDeleteCity"},[o("v-card",[o("v-card-text",[o("v-select",{ref:"city",attrs:{items:t.cities.map((function(t){return t.name})),rules:[function(e){return!!e||t.$t("itemIsRequired")}],label:t.$t("cityChoice"),required:""},model:{value:t.selectDeleteCity,callback:function(e){t.selectDeleteCity=e},expression:"selectDeleteCity"}})],1),t._v(" "),o("v-card-actions",[o("v-spacer"),t._v(" "),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDeleteCity}},[t._v("\n              "+t._s(t.$t("cancel"))+"\n            ")]),t._v(" "),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteCityConfirmation}},[t._v("\n              OK\n            ")]),t._v(" "),o("v-spacer")],1)],1)],1)],1),t._v(" "),o("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogAddCity,callback:function(e){t.dialogAddCity=e},expression:"dialogAddCity"}},[o("v-form",{ref:"formAddCity"},[o("v-card",[o("v-card-text",[o("v-container",[o("v-row",[o("v-col",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.cityName,expression:"cityName"}],staticClass:"classInput",attrs:{type:"text",placeholder:t.$t("cityName")},domProps:{value:t.cityName},on:{input:function(e){e.target.composing||(t.cityName=e.target.value)}}})])],1)],1)],1),t._v(" "),o("v-card-actions",[o("v-spacer"),t._v(" "),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeAddCity}},[t._v("\n              "+t._s(t.$t("cancel"))+"\n            ")]),t._v(" "),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.addCityConfirmation}},[t._v("\n              OK\n            ")]),t._v(" "),o("v-spacer")],1)],1)],1)],1)],1),t._v(" "),o("hr"),t._v(" "),o("v-row",[o("v-col",{attrs:{cols:"3"}},[o("v-btn",{staticClass:"myClass",on:{click:t.createPin}},[t._v("\n        "+t._s(t.$t("createCode"))+"\n      ")])],1),t._v(" "),o("v-spacer"),t._v(" "),o("v-col",{attrs:{cols:"3"}},[o("v-btn",{staticClass:"myClass",on:{click:t.updatePin}},[t._v("\n        "+t._s(t.$t("changeCode"))+"\n      ")])],1),t._v(" "),o("v-spacer"),t._v(" "),o("v-col",{attrs:{cols:"3"}})],1),t._v(" "),o("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogAddCode,callback:function(e){t.dialogAddCode=e},expression:"dialogAddCode"}},[o("v-form",{ref:"formAddCode"},[o("v-card",[o("v-card-text",[o("v-container",[o("v-row",[o("v-col",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"classInput",attrs:{oninput:"javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",type:"number",placeholder:"Code",maxlength:"4"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}})]),t._v(" "),o("v-col",[o("v-select",{ref:"city",attrs:{items:t.cities.map((function(t){return t.name})),rules:[function(e){return!!e||t.$t("itemIsRequired")}],label:t.$t("cityChoice"),required:""},model:{value:t.selectCity,callback:function(e){t.selectCity=e},expression:"selectCity"}})],1)],1)],1)],1),t._v(" "),o("v-card-actions",[o("v-spacer"),t._v(" "),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeAddCode}},[t._v("\n            "+t._s(t.$t("cancel"))+"\n          ")]),t._v(" "),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.addCodeConfirmation}},[t._v("\n            OK\n          ")]),t._v(" "),o("v-spacer")],1)],1)],1)],1),t._v(" "),o("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogUpdateCode,callback:function(e){t.dialogUpdateCode=e},expression:"dialogUpdateCode"}},[o("v-form",{ref:"formUpdateCode"},[o("v-card",[o("v-card-text",[o("v-container",[o("v-row",[o("v-col",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.oldCode,expression:"oldCode"}],staticClass:"classInput",attrs:{oninput:"javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",type:"number",placeholder:t.$t("oldCode"),maxlength:"4"},domProps:{value:t.oldCode},on:{input:function(e){e.target.composing||(t.oldCode=e.target.value)}}})]),t._v(" "),o("v-col",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.newCode,expression:"newCode"}],staticClass:"classInput",attrs:{oninput:"javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",type:"number",placeholder:t.$t("newCode"),maxlength:"4"},domProps:{value:t.newCode},on:{input:function(e){e.target.composing||(t.newCode=e.target.value)}}})])],1),t._v(" "),o("v-row",[o("v-select",{ref:"city",attrs:{items:t.cities.map((function(t){return t.name})),rules:[function(e){return!!e||t.$t("itemIsRequired")}],label:t.$t("cityChoice"),required:""},model:{value:t.selectCity,callback:function(e){t.selectCity=e},expression:"selectCity"}})],1)],1)],1),t._v(" "),o("v-card-actions",[o("v-spacer"),t._v(" "),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeUpdateCode}},[t._v("\n            "+t._s(t.$t("cancel"))+"\n          ")]),t._v(" "),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.updateCodeConfirmation}},[t._v("\n            OK\n          ")]),t._v(" "),o("v-spacer")],1)],1)],1)],1)],1)}),[],!1,null,"e7740366",null);e.default=component.exports;v()(component,{VBtn:C.a,VCard:h.a,VCardActions:m.a,VCardText:m.b,VCardTitle:m.c,VCol:f.a,VContainer:y.a,VDialog:_.a,VForm:x.a,VIcon:w.a,VList:k.a,VListItem:A.a,VListItemAction:D.a,VListItemContent:$.a,VListItemTitle:$.c,VRow:U.a,VSelect:S.a,VSpacer:N.a})},614:function(t,e,o){"use strict";o.r(e);o(24);var n=o(531),c=o(79),l=o.n(c),d={components:{CeoComponent:n.default},data:function(){return{admin:!1,isCeo:!1}},mounted:function(){!1===this.$auth.loggedIn&&(window.location="/login"),this.getUser()},methods:{getUser:function(){var t=this;l.a.get("http://212.227.210.204:8765/user",{headers:{Authorization:this.$auth.getToken("local")}}).then((function(e){"CEO"===e.data.role.name&&(t.admin=!0,t.isCeo=!0),"ADMIN"===e.data.role.name&&(t.admin=!0)})).catch((function(t){window.alert("An error occurred. Please try again!");var e=t.response;console.log("Method get user error: "+e),console.log("Method get user stringified errors: "+JSON.stringify(e.data.errors))}))}}},r=o(78),v=o(96),C=o.n(v),h=o(453),component=Object(r.a)(d,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",[t.admin?o("v-container",[o("AdminComponent")],1):t._e(),t._v(" "),t.isCeo?o("v-container",[o("CeoComponent")],1):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;C()(component,{AdminComponent:o(603).default}),C()(component,{VContainer:h.a})}}]);