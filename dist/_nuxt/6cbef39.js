(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{199:function(t,e,n){"use strict";n.r(e);var o={data:function(){return{langChoice:this.$store.state.i18n.locale}}},r=n(78),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"lang-dropdown"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.langChoice,expression:"langChoice"}],staticStyle:{color:"white"},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.langChoice=e.target.multiple?n:n[0]},function(e){return t.$i18n.setLocale(e.target.value)}]}},t._l(t.$i18n.locales,(function(e){return n("option",{key:e.code,attrs:{onchange:t.$i18n.setLocale},domProps:{value:e.code}},[t._v("\n      "+t._s(e.name)+"\n    ")])})),0)])}),[],!1,null,null,null);e.default=component.exports},206:function(t,e,n){"use strict";n(20);var o=n(79);n.n(o).a.interceptors.response.use((function(t){return 401===t.status&&(window.location="/keepLoggedIn"),t}),(function(t){return 401===t.response.status&&(window.location="/keepLoggedIn"),Promise.reject(t)}))},270:function(t,e,n){var content=n(329);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(17).default)("7388ab72",content,!0,{sourceMap:!1})},280:function(t,e,n){var content=n(352);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(17).default)("16396c48",content,!0,{sourceMap:!1})},295:function(t,e,n){"use strict";var o=n(15),r=(n(68),n(42),n(24),n(7),n(79)),c=n.n(r),l={components:{LanguageInput:n(199).default},data:function(){return{cities:[],photo:"",selectCity:"",user:null,notAuthenticated:!0,authenticated:!1,clipped:!1,drawer:!1,fixed:!1,home:{icon:"mdi-apps",title:"Home",to:"/"},items:[{icon:"mdi-apps",title:"Home",to:"/"},{icon:"mdi-account",title:"User",to:"/user"},{icon:"mdi-basket",title:"Products",to:"/products"},{icon:"mdi-folder-account",title:"Files",to:"/files"},{icon:"mdi-calendar",title:"Planning",to:"/planning"},{icon:"mdi-account",title:"Admin",to:"/admin"}],miniVariant:!1,right:!0,rightDrawer:!1,title:"Noé Workspace",ceo:!1,finalItems:[]}},mounted:function(){var t=this;!1===this.$auth.loggedIn?window.setInterval((function(){t.isAuthenticated()}),1e3):(this.isAuthenticated(),this.setItems(),this.title=this.title+" <------\x3e "+this.$auth.user.employee.department.city.name,this.photo=this.$auth.user.employee.photo)},methods:{logout:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.clear(),t.$router.push("/"),e.next=4,t.$auth.logout();case 4:return e.next=6,window.location.reload();case 6:case"end":return e.stop()}}),e)})))()},getCityById:function(t){this.getCities(),this.cities.forEach((function(e){e.name===t&&localStorage.setItem("cityId",e.id)})),this.formData=new FormData,this.formData.append("city_id",localStorage.getItem("cityId")),c()({url:"http://212.227.210.204:8765/admin/user/update_city",method:"PUT",data:this.formData,headers:{Authorization:this.$auth.getToken("local"),"Content-Type":"multipart/form-data"}}).then((function(t){window.location="/"})).catch((function(t){var e=t.response;console.log(JSON.stringify(e.data.errors))}))},isAuthenticated:function(){!1===this.$auth.loggedIn?(this.notAuthenticated=!0,this.authenticated=!1):(this.notAuthenticated=!1,this.authenticated=!0,this.user=this.$auth.user,localStorage.setItem("role",this.user.role.name),"CEO"===this.user.role.name&&(this.ceo=!0))},getCities:function(t){var e=this;this.authenticated&&c.a.get("http://212.227.210.204:8765/cities",{headers:{Authorization:this.$auth.getToken("local")}}).then((function(t){e.cities=t.data})).catch((function(t){var e=t.response;console.log(JSON.stringify(e.data.errors))}))},saveCity:function(){localStorage.setItem("cityName",this.selectCity),this.getCityById(this.selectCity)},cityList:function(){this.getCities()},setItems:function(){var t=this;!0===this.authenticated&&("CEO"!==this.user.role.name&&"ADMIN"!==this.user.role.name||(this.finalItems=this.items),"DEPARTMENT"===this.user.role.name&&this.items.forEach((function(e){"Admin"!==e.title&&t.finalItems.push(e)})),"EMPLOYEE"===this.user.role.name&&this.items.forEach((function(e){"Admin"!==e.title&&"Files"!==e.title&&t.finalItems.push({icon:e.icon,title:e.title,to:e.to})})))}}},d=(n(351),n(78)),h=n(96),v=n.n(h),m=n(444),f=n(452),_=n(445),y=n(446),C=n(231),w=n(453),I=n(448),x=n(155),V=n(161),k=n(196),A=n(131),$=n(194),E=n(200),L=n(70),N=n(449),P=n(450),F=n(451),O=n(208),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{dark:""}},[n("v-navigation-drawer",{attrs:{"mini-variant":t.miniVariant,clipped:t.clipped,fixed:"",app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-list",[t.authenticated?n("v-container",t._l(t.finalItems,(function(e,i){return n("v-list-item",{key:i,attrs:{to:e.to,router:"",exact:""}},[n("v-list-item-action",[n("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:t._s(e.title)}})],1)],1)})),1):n("v-list-item",{attrs:{to:t.home.to,exact:"",router:""}},[n("v-list-item-action",[n("v-icon",[t._v(" "+t._s(t.home.icon)+" ")])],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:t._s(t.home.title)}})],1)],1)],1)],1),t._v(" "),n("v-app-bar",{attrs:{"clipped-left":t.clipped,fixed:"",app:""}},[n("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),t._v(" "),n("v-btn",{attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.miniVariant=!t.miniVariant}}},[n("v-icon",[t._v("mdi-"+t._s("chevron-"+(t.miniVariant?"right":"left")))])],1),t._v(" "),n("v-btn",{attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.clipped=!t.clipped}}},[n("v-icon",[t._v("mdi-application")])],1),t._v(" "),n("v-btn",{attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.fixed=!t.fixed}}},[n("v-icon",[t._v("mdi-minus")])],1),t._v(" "),n("v-toolbar-title",{domProps:{textContent:t._s(t.title)}}),t._v(" "),n("v-spacer"),t._v(" "),t.ceo?n("v-autocomplete",{ref:"city",staticClass:"city",attrs:{items:t.cities.map((function(t){return t.name})),rules:[function(t){return!!t||"Item is required"}],label:t.$t("cityChoice"),required:""},on:{change:t.saveCity,click:t.cityList},model:{value:t.selectCity,callback:function(e){t.selectCity=e},expression:"selectCity"}}):t._e(),t._v(" "),t.notAuthenticated?n("v-btn",{staticClass:"myClass"},[n("router-link",{staticClass:"router",attrs:{to:"/login"}},[t._v("\n        "+t._s(t.$t("login"))+"\n      ")])],1):t._e(),t._v(" "),n("v-spacer"),t._v(" "),t.authenticated?n("v-btn",{staticClass:"myClass",on:{click:t.logout}},[t._v("\n      "+t._s(t.$t("logout"))+"\n    ")]):t._e(),t._v(" "),n("v-spacer"),t._v(" "),t.authenticated?n("router-link",{attrs:{to:"/user"}},[n("v-list-item-avatar",[n("v-img",{attrs:{id:"image",src:"data:image/*;base64,"+t.photo}})],1)],1):t._e(),t._v(" "),n("LanguageInput")],1),t._v(" "),n("v-main",[n("v-container",{staticClass:"pa-10",attrs:{fluid:""}},[n("nuxt")],1)],1),t._v(" "),n("v-footer",{attrs:{absolute:!t.fixed,app:""}},[n("span",[t._v("© "+t._s((new Date).getFullYear()))])])],1)}),[],!1,null,"28bef324",null);e.a=component.exports;v()(component,{LanguageInput:n(199).default}),v()(component,{VApp:m.a,VAppBar:f.a,VAppBarNavIcon:_.a,VAutocomplete:y.a,VBtn:C.a,VContainer:w.a,VFooter:I.a,VIcon:x.a,VImg:V.a,VList:k.a,VListItem:A.a,VListItemAction:$.a,VListItemAvatar:E.a,VListItemContent:L.a,VListItemTitle:L.c,VMain:N.a,VNavigationDrawer:P.a,VSpacer:F.a,VToolbarTitle:O.a})},296:function(t,e,n){"use strict";var o={data:function(){return{title:"Noé workspace"}}},r=n(78),c=n(96),l=n.n(c),d=n(444),h=n(453),v=n(448),m=n(449),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{dark:""}},[n("v-main",[n("v-container",[n("nuxt")],1)],1),t._v(" "),n("v-footer",[t._v(" Noé  © "+t._s((new Date).getFullYear())+" ")])],1)}),[],!1,null,null,null);e.a=component.exports;l()(component,{VApp:d.a,VContainer:h.a,VFooter:v.a,VMain:m.a})},305:function(t,e,n){n(306),t.exports=n(307)},322:function(t,e,n){"use strict";n.r(e),e.default=function(t){var e=t.store,n=t.redirect;if(e.state.auth.loggedIn)return n("/")}},328:function(t,e,n){"use strict";n(270)},329:function(t,e,n){var o=n(16)(!1);o.push([t.i,"h1[data-v-bfedb7fe]{font-size:20px}",""]),t.exports=o},351:function(t,e,n){"use strict";n(280)},352:function(t,e,n){var o=n(16)(!1);o.push([t.i,".myClass[data-v-28bef324]{background:#1e1e1e}.myClass[data-v-28bef324],.router[data-v-28bef324]{color:snow}.city[data-v-28bef324]{margin-top:30px;width:80px}",""]),t.exports=o},434:function(t,e,n){"use strict";n.r(e),n.d(e,"getters",(function(){return o}));var o={isAuthenticated:function(t){return t.auth.loggedIn},loggedInUser:function(t){return t.auth.user}}},94:function(t,e,n){"use strict";var o={layout:"empty",props:{error:{type:Object,default:null}},data:function(){return{pageNotFound:"404 Not Found",otherError:"An error occurred"}},head:function(){return{title:404===this.error.statusCode?this.pageNotFound:this.otherError}}},r=(n(328),n(78)),c=n(96),l=n.n(c),d=n(444),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{dark:""}},[404===t.error.statusCode?n("h1",[t._v("\n    "+t._s(t.pageNotFound)+"\n  ")]):n("h1",[t._v("\n    "+t._s(t.otherError)+"\n  ")]),t._v(" "),n("NuxtLink",{attrs:{to:"/"}},[t._v("\n    Home page\n  ")])],1)}),[],!1,null,"bfedb7fe",null);e.a=component.exports;l()(component,{VApp:d.a})}},[[305,63,17,64]]]);